<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Introduction - ChemFST Documentation</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Comprehensive documentation for the ChemFST project, following the Rust book style.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

        <!-- Provide site root and default themes to javascript -->
        <script>
            const path_to_root = "";
            const default_light_theme = "light";
            const default_dark_theme = "navy";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="mdbook-help-container">
        <div id="mdbook-help-popup">
            <h2 class="mdbook-help-title">Keyboard shortcuts</h2>
            <div>
                <p>Press <kbd>←</kbd> or <kbd>→</kbd> to navigate between chapters</p>
                <p>Press <kbd>S</kbd> or <kbd>/</kbd> to search in the book</p>
                <p>Press <kbd>?</kbd> to show this help</p>
                <p>Press <kbd>Esc</kbd> to hide this help</p>
            </div>
        </div>
    </div>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                let theme = localStorage.getItem('mdbook-theme');
                let sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            const default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? default_dark_theme : default_light_theme;
            let theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            let sidebar = null;
            const sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="default_theme">Auto</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search (`/`)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="/ s" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">ChemFST Documentation</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="chemfst"><a class="header" href="#chemfst">ChemFST</a></h1>
<p>ChemFST is a high-performance chemical name search library using Finite State Transducers (FSTs) to provide efficient searches of systematic and trivial names of chemical compounds in milliseconds. It's particularly useful for autocomplete features and searching through large chemical compound databases.</p>
<h2 id="features"><a class="header" href="#features">Features</a></h2>
<ul>
<li>Memory-efficient indexing using Finite State Transducers</li>
<li>Extremely fast prefix-based searches (autocomplete)</li>
<li>Case-insensitive substring searches</li>
<li>Memory-mapped file access for optimal performance</li>
<li>Simple API with just a few functions</li>
</ul>
<h2 id="setup"><a class="header" href="#setup">Setup</a></h2>
<h3 id="prerequisites"><a class="header" href="#prerequisites">Prerequisites</a></h3>
<ul>
<li><a href="https://www.rust-lang.org/tools/install">Rust</a> 1.56.0 or higher</li>
<li>Cargo (comes with Rust)</li>
</ul>
<h3 id="installation"><a class="header" href="#installation">Installation</a></h3>
<p>Add this to your <code>Cargo.toml</code>:</p>
<pre><code class="language-toml">[dependencies]
chemfst = { path = "path/to/chemfst" }
</code></pre>
<p>For a real-world application, you would publish the crate to <a href="https://crates.io/">crates.io</a> and then specify:</p>
<pre><code class="language-toml">[dependencies]
chemfst = "0.1.0"
</code></pre>
<h2 id="using-the-library"><a class="header" href="#using-the-library">Using the Library</a></h2>
<h3 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h3>
<pre><pre class="playground"><code class="language-rust">use chemfst::{build_fst_set, load_fst_set, prefix_search, substring_search};
use std::error::Error;

fn main() -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt; {
    // Step 1: Create an index from a list of chemical names (one term per line)
    // Note: The .fst file is generated and not distributed with the package
    // The repository includes a sample data/chemical_names.txt with 32+ chemical names
    let input_path = "data/chemical_names.txt";
    let fst_path = "data/chemical_names.fst";
    build_fst_set(input_path, fst_path)?;

    // Step 2: Load the index into memory
    let set = load_fst_set(fst_path)?;

    // Step 3: Perform searches

    // Prefix search (autocomplete)
    let prefix_results = prefix_search(&amp;set, "acet", 10); // Find up to 10 terms starting with "acet"

    // Substring search
    let substring_results = substring_search(&amp;set, "enz", 10)?; // Find up to 10 terms containing "enz"

    Ok(())
}</code></pre></pre>
<h3 id="api-reference"><a class="header" href="#api-reference">API Reference</a></h3>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h4 id="build_fst_setinput_path-str-fst_path-str---result-boxdyn-error"><a class="header" href="#build_fst_setinput_path-str-fst_path-str---result-boxdyn-error"><code>build_fst_set(input_path: &amp;str, fst_path: &amp;str) -&gt; Result&lt;(), Box&lt;dyn Error&gt;&gt;</code></a></h4>
<p>Creates an FST set from a list of chemical names in a text file. The resulting .fst file is generated and not distributed with the package.</p>
<ul>
<li><code>input_path</code>: Path to a text file with one chemical name per line</li>
<li><code>fst_path</code>: Path where the FST index will be saved</li>
</ul>
<h4 id="load_fst_setfst_path-str---resultsetmmap-boxdyn-error"><a class="header" href="#load_fst_setfst_path-str---resultsetmmap-boxdyn-error"><code>load_fst_set(fst_path: &amp;str) -&gt; Result&lt;Set&lt;Mmap&gt;, Box&lt;dyn Error&gt;&gt;</code></a></h4>
<p>Loads a previously created FST set from disk using memory mapping.</p>
<ul>
<li><code>fst_path</code>: Path to the FST index file</li>
<li>Returns: A memory-mapped FST Set</li>
</ul>
<h4 id="prefix_searchset-setmmap-prefix-str-max_results-usize---vecstring"><a class="header" href="#prefix_searchset-setmmap-prefix-str-max_results-usize---vecstring"><code>prefix_search(set: &amp;Set&lt;Mmap&gt;, prefix: &amp;str, max_results: usize) -&gt; Vec&lt;String&gt;</code></a></h4>
<p>Performs a prefix-based search (autocomplete).</p>
<ul>
<li><code>set</code>: The FST Set to search through</li>
<li><code>prefix</code>: The prefix to search for</li>
<li><code>max_results</code>: Maximum number of results to return</li>
<li>Returns: A vector of matching chemical names</li>
</ul>
<h4 id="substring_searchset-setmmap-substring-str-max_results-usize---resultvecstring-boxdyn-error"><a class="header" href="#substring_searchset-setmmap-substring-str-max_results-usize---resultvecstring-boxdyn-error"><code>substring_search(set: &amp;Set&lt;Mmap&gt;, substring: &amp;str, max_results: usize) -&gt; Result&lt;Vec&lt;String&gt;, Box&lt;dyn Error&gt;&gt;</code></a></h4>
<p>Performs a case-insensitive substring search.</p>
<ul>
<li><code>set</code>: The FST Set to search through</li>
<li><code>substring</code>: The substring to search for</li>
<li><code>max_results</code>: Maximum number of results to return</li>
<li>Returns: A vector of matching chemical names</li>
</ul>
<h2 id="development"><a class="header" href="#development">Development</a></h2>
<h3 id="project-structure"><a class="header" href="#project-structure">Project Structure</a></h3>
<ul>
<li><code>src/lib.rs</code> - Core library functionality</li>
<li><code>src/main.rs</code> - Example binary that demonstrates the library</li>
<li><code>tests/</code> - Integration tests</li>
</ul>
<h3 id="setting-up-development-environment"><a class="header" href="#setting-up-development-environment">Setting Up Development Environment</a></h3>
<ol>
<li>
<p>Clone the repository:</p>
<pre><code class="language-bash">git clone &lt;repository_url&gt;
cd chemfst
</code></pre>
</li>
<li>
<p>Build the project:</p>
<pre><code class="language-bash">cargo build
</code></pre>
</li>
<li>
<p>Run the example:</p>
<pre><code class="language-bash">cargo run
</code></pre>
</li>
</ol>
<h3 id="running-tests"><a class="header" href="#running-tests">Running Tests</a></h3>
<p>Run all tests:</p>
<pre><code class="language-bash">cargo test
</code></pre>
<h3 id="adding-new-tests"><a class="header" href="#adding-new-tests">Adding New Tests</a></h3>
<p>Add new integration tests to the <code>tests/fst_search_tests.rs</code> file or create additional test files in the <code>tests</code> directory.</p>
<h2 id="continuous-integration"><a class="header" href="#continuous-integration">Continuous Integration</a></h2>
<p>The project uses GitHub Actions for continuous integration and testing across multiple platforms and Python versions.</p>
<h3 id="github-workflows"><a class="header" href="#github-workflows">GitHub Workflows</a></h3>
<h4 id="rust-ci-rustyml"><a class="header" href="#rust-ci-rustyml">Rust CI (<code>rust.yml</code>)</a></h4>
<ul>
<li><strong>Platforms</strong>: Ubuntu, macOS, Windows</li>
<li><strong>Rust versions</strong>: stable, beta</li>
<li><strong>Features</strong>: Build, test, clippy linting, format checking, code coverage</li>
</ul>
<h4 id="python-ci-pythonyml"><a class="header" href="#python-ci-pythonyml">Python CI (<code>python.yml</code>)</a></h4>
<ul>
<li><strong>Platforms</strong>: Ubuntu, macOS, Windows</li>
<li><strong>Python versions</strong>: 3.11, 3.12, 3.13</li>
<li><strong>Features</strong>:
<ul>
<li>Automated FST file generation from test data</li>
<li>Cross-platform testing</li>
<li>Example execution validation</li>
<li>Code coverage reporting</li>
</ul>
</li>
</ul>
<h3 id="local-validation"><a class="header" href="#local-validation">Local Validation</a></h3>
<p>Before pushing changes, validate the workflow locally:</p>
<pre><code class="language-bash"># Run the validation script
python scripts/validate_workflow.py
</code></pre>
<p>This script:</p>
<ul>
<li>Creates test data files</li>
<li>Builds the Python package</li>
<li>Runs all tests</li>
<li>Validates examples work correctly</li>
</ul>
<h3 id="fst-file-generation-in-ci"><a class="header" href="#fst-file-generation-in-ci">FST File Generation in CI</a></h3>
<p>The workflows automatically create test data files since FST files are not distributed with the package. Each platform creates the required <code>data/chemical_names.txt</code> with sample chemical names for testing.</p>
<h3 id="contributing"><a class="header" href="#contributing">Contributing</a></h3>
<p>Contributions are welcome! Here's how you can contribute:</p>
<ol>
<li>Fork the repository</li>
<li>Create a new branch (<code>git checkout -b feature/your-feature-name</code>)</li>
<li>Make your changes</li>
<li>Run the tests (<code>cargo test</code>)</li>
<li>Commit your changes (<code>git commit -m 'Add some feature'</code>)</li>
<li>Push to the branch (<code>git push origin feature/your-feature-name</code>)</li>
<li>Open a Pull Request</li>
</ol>
<h2 id="performance-considerations"><a class="header" href="#performance-considerations">Performance Considerations</a></h2>
<ul>
<li>FST sets are immutable. If your chemical database changes, you'll need to rebuild the index.</li>
<li>For large chemical databases, consider building the index as an offline process.</li>
<li>Memory-mapped files provide excellent performance but require care when the underlying file changes.</li>
</ul>
<h2 id="license"><a class="header" href="#license">License</a></h2>
<p><a href="LICENSE">MIT License</a></p>
<h2 id="credits"><a class="header" href="#credits">Credits</a></h2>
<p>This project uses the following key dependencies:</p>
<ul>
<li><a href="https://crates.io/crates/fst">fst</a> - Finite State Transducer implementation</li>
<li><a href="https://crates.io/crates/memmap2">memmap2</a> - Memory mapping functionality</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->

                            <a rel="next prefetch" href="FST_SETUP.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

                    <a rel="next prefetch" href="FST_SETUP.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
